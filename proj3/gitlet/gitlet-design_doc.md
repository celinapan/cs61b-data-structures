# Gitlet Design Document

***Name***: Trang Van

## Classes and Data Structures

---
### Classes

---

### Main

- `main` switches on `arg[0]`, which will be the commands
- `validateArgument`- checks the arguments before calling the function
- `some function` - check the 2 failure cases not related to command arguments

### Command

- all expected commands like init, add, etc. `Main` initializes this class to call the commands. Doesn't construct anything

### Commit implements Serializable

- Fields:

    `String _message` - metadata

    `String _datetime` - metadata 

    `String _parent` - holds SHA-1 reference to previous commit

    `String _uid` - SHA-1 for Commit object - i.e.  `Utils.sha1(this)`

    `String _branch` - holds SHA-1 reference for the branch it belongs to

    `HashMap<String, byte[]> allBlobs` - file UID generated by SHA-1 & file contents serialized; stored for constant time lookup. Can be used to checkout files 

    `ArrayList<String> _trackedFiles` - Used by Commit Object to store all files it's tracking at that snapshot. Holding onto only file UID

- Methods
    - SImple Getters for metadata attributes
    - `getCommitTime`- sets `_datetime` using SimpleDateFormatter
    - `setUID(Commit co)` - returns `Utils.sha1(co)`
    - `makeBlob(File f)` - generates `fileUID` via SHA-1 and serializes file contents, adds to `_allBlobs`
    - `commitBlobs` - add keys of `_allBlobs` to `ArrayList`
        - NOT IMPLEMENTED: Hashtable with folders (folder name: 1st two characters of sha-1) and put blobs under the corresponding folder
    - `fromFile(String filename)`- reads object with filename (sha-1 reference)
    - `saveCommit` - gets the UID and writes object, passing in `this`
